{"version":3,"file":"static/js/601.70e508db.chunk.js","mappings":"yHAUA,IARA,SAAmB,GAAY,IAAVA,EAAK,EAALA,MACnB,OACE,0BACE,eAAIC,UAAU,UAAS,SAAED,KAG/B,C,2DCNaE,E,QAAgBC,EAAAA,OAAa,CACxCC,QAAS,CACPC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,Y,qLCsFlD,UAjFA,WACE,OAAgCC,EAAAA,EAAAA,UAAS,IAAG,eAArCC,EAAQ,KAAEC,EAAW,KACtBC,GAAWC,EAAAA,EAAAA,MAEXC,GAAcC,EAAAA,EAAAA,cAAW,uBAAC,2FAEJ,OAFI,SAE5BH,GAASI,EAAAA,EAAAA,OAAe,SACDb,EAAAA,EAAAA,IAAkB,iCAEvC,CAAC,GACD,KAAD,EAHKc,EAAQ,OAIdL,GAASM,EAAAA,EAAAA,OACLD,EAASE,KAAKC,SACVC,EAAaJ,EAASE,KAAKA,KAAKG,KAAI,SAACC,GACzC,OAAO,0BACFA,GACAA,EAAQC,KAAG,IACdC,IAAKF,EAAQG,KAEjB,IACAf,EAAYU,IAEZM,EAAAA,GAAAA,MAAcV,EAASE,KAAKQ,SAC7B,gDAEDf,GAASM,EAAAA,EAAAA,OACTS,EAAAA,GAAAA,MAAc,KAAMA,SAAS,yDAE9B,CAACf,IAEEgB,EAAU,CACd,CACE3B,MAAO,WACP4B,UAAW,OACXJ,IAAK,OAEP,CACExB,MAAO,YACP4B,UAAW,OACXC,OAAQ,SAACC,GAAI,gBAAQA,EAAKC,KAAI,GAGhC,CACE/B,MAAO,aACP4B,UAAW,YACXJ,IAAK,OAEP,CACExB,MAAO,eACP4B,UAAW,cACXC,OAAQ,SAACG,GAAW,OAAKC,IAAOD,GAAaE,OAAO,aAAa,GAEnE,CACElC,MAAO,eACP4B,UAAW,YACXC,OAAQ,SAACM,GAAS,OAAKF,IAAOE,EAAW,SAASD,OAAO,UAAU,GAErE,CACElC,MAAO,QACP4B,UAAW,QACXC,OAAQ,SAACO,GAAK,OAAKA,EAAMC,KAAK,KAAK,IAQvC,OAJAC,EAAAA,EAAAA,YAAU,WACRzB,GACF,GAAG,CAACA,KAGF,iCACE,SAAC,IAAM,WACL,gDAEF,iBAAKZ,UAAU,MAAK,WAClB,SAAC,IAAS,CAACD,MAAM,cACjB,SAAC,IAAK,CAAC2B,QAASA,EAASY,WAAY9B,SAI7C,C","sources":["components/PageTitle.js","helpers/axiosInstance.js","pages/Admin/AdminBookings.jsx"],"sourcesContent":["import React from \"react\";\n\nfunction PageTitle({ title }) {\n  return (\n    <div>\n      <h1 className=\"text-xl\">{title}</h1>\n    </div>\n  );\n}\n\nexport default PageTitle;\n","import axios from \"axios\";\n\nexport const axiosInstance = axios.create({\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  },\n});\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { axiosInstance } from \"../../helpers/axiosInstance\";\nimport { message, Table } from \"antd\";\nimport { HideLoading, ShowLoading } from \"../../redux/alertsSlice\";\nimport PageTitle from \"../../components/PageTitle\";\nimport moment from \"moment\";\nimport { Helmet } from \"react-helmet\";\n\nfunction AdminBookings() {\n  const [bookings, setBookings] = useState([]);\n  const dispatch = useDispatch();\n\n  const getBookings = useCallback(async () => {\n    try {\n      dispatch(ShowLoading());\n      const response = await axiosInstance.get(\n        `/api/bookings/get-all-bookings`,\n        {}\n      );\n      dispatch(HideLoading());\n      if (response.data.success) {\n        const mappedData = response.data.data.map((booking) => {\n          return {\n            ...booking,\n            ...booking.bus,\n            key: booking._id,\n          };\n        });\n        setBookings(mappedData);\n      } else {\n        message.error(response.data.message);\n      }\n    } catch (error) {\n      dispatch(HideLoading());\n      message.error(error.message);\n    }\n  }, [dispatch]);\n\n  const columns = [\n    {\n      title: \"Bus Name\",\n      dataIndex: \"name\",\n      key: \"bus\",\n    },\n    {\n      title: \"Full Name\",\n      dataIndex: \"user\",\n      render: (user) => `${user.name}`,\n    },\n\n    {\n      title: \"Bus Number\",\n      dataIndex: \"busNumber\",\n      key: \"bus\",\n    },\n    {\n      title: \"Journey Date\",\n      dataIndex: \"journeyDate\",\n      render: (journeyDate) => moment(journeyDate).format(\"DD/MM/YYYY\"),\n    },\n    {\n      title: \"Journey Time\",\n      dataIndex: \"departure\",\n      render: (departure) => moment(departure, \"HH:mm\").format(\"hh:mm A\"),\n    },\n    {\n      title: \"Seats\",\n      dataIndex: \"seats\",\n      render: (seats) => seats.join(\", \"),\n    },\n  ];\n\n  useEffect(() => {\n    getBookings();\n  }, [getBookings]);\n\n  return (\n    <>\n      <Helmet>\n        <title>User Bookings</title>\n      </Helmet>\n      <div className=\"p-5\">\n        <PageTitle title=\"Bookings\" />\n        <Table columns={columns} dataSource={bookings} />\n      </div>\n    </>\n  );\n}\n\nexport default AdminBookings;\n"],"names":["title","className","axiosInstance","axios","headers","Authorization","localStorage","getItem","useState","bookings","setBookings","dispatch","useDispatch","getBookings","useCallback","ShowLoading","response","HideLoading","data","success","mappedData","map","booking","bus","key","_id","message","columns","dataIndex","render","user","name","journeyDate","moment","format","departure","seats","join","useEffect","dataSource"],"sourceRoot":""}